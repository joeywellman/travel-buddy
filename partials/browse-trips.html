<section class="browse-section" id="browse-section">
  <h2>Browse Trips</h2>
  <div class="container">
    <div class="row">
      <input class="col-sm-8 form-control" ng-model="searchTerm" type="text" placeholder="Search by a destination or keyword">
    </div>
    <div class="row">
      <div class = "col-sm-6 m-1 trip-container">
        
        <div class = "spinner-container">
          <svg mt-3 ng-hide = "dataLoaded" class="spinner" width="80px" height="80px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
          </svg>
        </div>

        
        <div class="trip-card browse-trips card" ng-repeat ="trip in trips | filter: searchTerm" ng-mouseover = "setMapCenter(trip)">
          <img class="card-img-top" ng-src="{{trip.coverPhoto}}" alt="Picture of a place">
          <div class = "card-body">
            <h4 class="trip-name">{{trip.name}}</h4>
            <span class="trip-tags">{{trip.tags}}</span>
            <br>
            <h5 class = "trip-location">{{trip.location}}</h5>
            <span class="trip-author">Curated by {{trip.userName}}</span><br>
            <p class="trip-description">{{trip.description}}</p>
            <button class="btn btn-secondary view-trip"><a ng-href = "#!/view/{{trip.id}}">View</a></button>
            <button class="btn btn-secondary add-favorite" ng-click="addFavorite(trip.id)">Favorite</button>
          </div>
        </div>
      </div>
      <div class = "col-sm-5 m-1">
        <ng-map class="google-map-container" center="{{mapCenter}}" zoom="13" pan-control="true" zoom-control="true" scale-control="true">
          <marker ng-repeat="trip in trips track by $index" position={{trip.startingPoint.formatted_address}} title={{trip.startingPoint.name}}
            id={{trip.startingPoint.place_id}} on-click="showDetails(trip)"></marker>
          <info-window id="details">
            <div ng-non-bindable>
              <h5>{{selectedTrip.name}}</h5>
              <span>General Location:</span><br>
              <span>{{selectedTrip.location}}</span><br>
              <span>Starting point:</span><br>
              <span>{{selectedTrip.startingPoint.name}}</span>
            </div>
          </info-window>
        </ng-map>
      </div>
    </div>
  </div>
 
   


</section>